{"version":3,"sources":["store/actions/places.ts","store/actions/search.ts","components/Header/Header.tsx","components/Map/AddMarker.tsx","Constants.ts","components/Map/Map.tsx","components/Search/Search.tsx","components/Preview/Preview.tsx","components/Form/Form.tsx","App.tsx","reportWebVitals.ts","data.ts","store/reducers/places.ts","store/reducers/search.ts","store/reducers/index.ts","store/index.ts","index.tsx"],"names":["SET_ALL_PLACES","SET_SELECTED_PLACE","SET_PLACE_PREVIEW_VISIBILITY","SET_PLACE_FORM_VISIBILITY","SET_PRE_PLACE_LOCATION","ADD_NEW_PLACE","setSelectedPlace","place","type","payload","setPlacePreviewVisibility","show","setPlaceFormVisibility","SET_SEARCH_VISIBILITY","setSearchVisibility","connect","state","search","dispatch","searchIsVisible","className","style","fontSize","verticalAlign","position","left","top","onClick","formIsOpen","places","placeFormIsVisible","toggleForm","setLocation","setPrePlaceLocation","useState","setPosition","useMapEvents","click","e","latlng","Marker","L","icon","iconSize","iconAnchor","popupAnchor","iconUrl","shadowUrl","isVisible","placePreviewsIsVisible","selectedPlace","togglePreview","setPlaceForPreview","defaultPosition","LocationMarker","map","useMap","useEffect","locate","on","flyTo","getZoom","Popup","showPlace","console","log","MapContainer","center","zoom","scrollWheelZoom","height","zoomControl","TileLayer","url","attribution","maxZoom","id","tileSize","zoomOffset","accessToken","eventHandlers","location","setTimeout","showPreview","Tooltip","ZoomControl","zoomInText","zoomOutText","closeSearch","role","background","date","closePreview","description","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","prePlacePosition","closeForm","addNewPlace","initialValues","validate","values","Object","keys","reduce","prev","curr","onSubmit","Date","now","lat","lng","toString","LatLng","db","getDatabase","set","ref","writeMapData","errors","touched","isValidating","htmlFor","name","placeholder","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","dbRef","placeArr","get","child","snapshot","exists","forEach","push","val","catch","error","initialState","productsReducer","action","searchReducer","combineReducers","createStore","rootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.397e5a6d.chunk.js","sourcesContent":["import { LatLngExpression } from \"leaflet\";\r\nimport { Place } from \"../models\";\r\n\r\nexport const SET_ALL_PLACES = \"SET_ALL_PLACES\";\r\nexport const SET_SELECTED_PLACE = \"SET_SELECTED_PLACE\";\r\nexport const SET_PLACE_PREVIEW_VISIBILITY = \"SET_PLACE_PREVIEW_VISIBILITY\";\r\nexport const SET_PLACE_FORM_VISIBILITY = \"SET_PLACE_FORM_VISIBILITY\";\r\nexport const SET_PRE_PLACE_LOCATION = \"SET_PRE_PLACE_LOCATION\";\r\nexport const ADD_NEW_PLACE = \"ADD_NEW_PLACE\";\r\n\r\nexport const setAllPlaces = (places: Place[]) => ({\r\n  type: SET_ALL_PLACES,\r\n  payload: places,\r\n});\r\n\r\nexport const setSelectedPlace = (place: Place) => ({\r\n  type: SET_SELECTED_PLACE,\r\n  payload: place,\r\n});\r\n\r\nexport const setPlacePreviewVisibility = (show: boolean) => ({\r\n  type: SET_PLACE_PREVIEW_VISIBILITY,\r\n  payload: show,\r\n});\r\n\r\nexport const setPlaceFormVisibility = (show: boolean) => ({\r\n  type: SET_PLACE_FORM_VISIBILITY,\r\n  payload: show,\r\n});\r\n\r\nexport const setPrePlaceLocation = (payload: LatLngExpression) => ({\r\n  type: SET_PRE_PLACE_LOCATION,\r\n  payload,\r\n});\r\n\r\nexport const addNewPlace = (payload: Place) => ({\r\n  type: ADD_NEW_PLACE,\r\n  payload,\r\n});\r\n","export const SET_SEARCH_VISIBILITY = \"SET_SEARCH_VISIBILITY\";\r\n\r\nexport const setSearchVisibility = (show: boolean) => ({\r\n  type: SET_SEARCH_VISIBILITY,\r\n  payload: show,\r\n});\r\n","import { connect } from \"react-redux\";\r\nimport { setSearchVisibility } from \"../../store/actions\";\r\nimport { IState } from \"../../store/models\";\r\nimport \"./Header.css\";\r\nimport { CgPlayListSearch } from \"react-icons/cg\";\r\n\r\nconst Header = ({ searchIsVisible, setSearchVisibility }: any) => {\r\n\r\n  return (\r\n    <div className=\"header__container\">\r\n      <CgPlayListSearch\r\n        style={{\r\n          fontSize: \"3rem\",\r\n          verticalAlign: \"middle\",\r\n          position: \"absolute\",\r\n          left: \"1rem\",\r\n          top: \"10px\",\r\n        }}\r\n        onClick={() => setSearchVisibility(!searchIsVisible)}\r\n      ></CgPlayListSearch>\r\n      <span>Where are the Green Parrots?</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { search } = state;\r\n  return search;\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    setSearchVisibility: (payload: boolean) =>\r\n      dispatch(setSearchVisibility(payload)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\r\n","import React, { useState } from \"react\";\r\nimport { LatLng, LatLngExpression } from \"leaflet\";\r\nimport { Marker, useMapEvents } from \"react-leaflet\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  setPlaceFormVisibility,\r\n  setPrePlaceLocation,\r\n} from \"../../store/actions\";\r\nimport { IState } from \"../../store/models\";\r\n\r\nconst AddMarker = ({ formIsOpen, toggleForm, setLocation }: any) => {\r\n  const [position, setPosition] = useState(\r\n    (null as unknown) as LatLngExpression\r\n  );\r\n\r\n  useMapEvents({\r\n    click: (e) => {\r\n      setPosition(e.latlng);\r\n      setLocation(e.latlng);\r\n      toggleForm(true);\r\n    },\r\n  });\r\n\r\n  return !formIsOpen || position === null ? null : (\r\n    <Marker position={position}></Marker>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { places } = state;\r\n\r\n  return {\r\n    formIsOpen: places.placeFormIsVisible,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    toggleForm: (payload: boolean) => dispatch(setPlaceFormVisibility(payload)),\r\n    setLocation: (payload: LatLng) => dispatch(setPrePlaceLocation(payload)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddMarker);\r\n","import L from \"leaflet\";\r\n\r\nexport default L.icon({\r\n  iconSize: [25, 41],\r\n  iconAnchor: [10, 41],\r\n  popupAnchor: [2, -40],\r\n  iconUrl: \"https://unpkg.com/leaflet@1.6/dist/images/marker-icon.png\",\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.6/dist/images/marker-shadow.png\"\r\n});\r\n\r\nexport const mapboxAPI: string = \"pk.eyJ1IjoidWx6aGFuZyIsImEiOiJja3R5eHZxMTMwMnl3MnhxZ2JyYzYzcmpzIn0.nw7l6ZxMbKNsVzy1mjMNJQ\";\r\n\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyDafTBcwBZ9g7nnzvQYW1m644ZV_sRTvJQ\",\r\n  authDomain: \"bird-maps-1.firebaseapp.com\",\r\n  databaseURL: \"https://bird-maps-1-default-rtdb.firebaseio.com\",\r\n  projectId: \"bird-maps-1\",\r\n  storageBucket: \"bird-maps-1.appspot.com\",\r\n  messagingSenderId: \"460361909334\",\r\n  appId: \"1:460361909334:web:9e8db450c35df6e9bda7f7\",\r\n  measurementId: \"G-K6PPGQL6T2\"\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport { LatLngExpression } from \"leaflet\";\r\nimport { MapContainer, TileLayer, Marker, Tooltip, Polyline, useMap, Popup, ZoomControl } from \"react-leaflet\";\r\nimport { connect } from \"react-redux\";\r\nimport { setPlacePreviewVisibility, setSelectedPlace } from \"../../store/actions\";\r\nimport { IState, Place } from \"../../store/models\";\r\nimport AddMarker from \"./AddMarker\";\r\nimport { mapboxAPI } from \"../../Constants\"\r\nimport icon from \"../../Constants\";\r\nimport L from \"leaflet\";\r\n\r\nimport \"./Map.css\";\r\n\r\nconst Map = ({\r\n  isVisible,\r\n  places,\r\n  selectedPlace,\r\n  togglePreview,\r\n  setPlaceForPreview,\r\n}: any) => {\r\n  const defaultPosition: LatLngExpression = [30.2672, -97.7431]; // Austin position\r\n  const [polyLineProps, setPolyLineProps] = useState([]);\r\n\r\n  // useEffect(() => {\r\n  //   setPolyLineProps(places.reduce((prev: LatLngExpression[], curr: Place) => {\r\n  //     prev.push(curr.position);\r\n  //     return prev;\r\n  //   }, []))\r\n  // }, [places]);\r\n\r\n  function LocationMarker() {\r\n    const [position, setPosition] = useState(defaultPosition);\r\n\r\n    const map = useMap();\r\n\r\n    useEffect(() => {\r\n      map.locate().on(\"locationfound\", function (e) {\r\n        setPosition(e.latlng);\r\n        map.flyTo(e.latlng, map.getZoom());\r\n        // const radius = e.accuracy;\r\n        // const circle = L.circle(e.latlng, radius);\r\n        // circle.addTo(map);\r\n      });\r\n    }, [map]);\r\n\r\n    return position === null ? null : (\r\n      <Marker position={position} icon={icon}>\r\n        <Popup>\r\n          You are here. <br />\r\n        </Popup>\r\n      </Marker>\r\n    );\r\n  }\r\n\r\n  const showPreview = (place: Place) => {\r\n    if (isVisible) {\r\n      togglePreview(false);\r\n      setPlaceForPreview(null);\r\n    }\r\n\r\n    if (selectedPlace?.location !== place.location) {\r\n      setTimeout(() => {\r\n        showPlace(place);\r\n      }, 400);\r\n    }\r\n  };\r\n\r\n  const showPlace = (place: Place) => {\r\n    setPlaceForPreview(place);\r\n    togglePreview(true);\r\n  };\r\n\r\n    places.map((place: Place) => {\r\n      console.log(place.position)\r\n    })\r\n\r\n  return (\r\n    <div className=\"map__container\">\r\n      <MapContainer\r\n        center={defaultPosition}\r\n        zoom={20}\r\n        scrollWheelZoom={true}\r\n        style={{ height: \"100vh\" }}\r\n        zoomControl={false}\r\n      >\r\n        <TileLayer\r\n          url='https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}'\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          maxZoom={20}\r\n          id='mapbox/streets-v11'\r\n          tileSize={512}\r\n          zoomOffset={-1}\r\n          accessToken={mapboxAPI}\r\n        />\r\n        {/* <Polyline positions={polyLineProps} /> */}\r\n        {places.map((place: Place) => (\r\n          <Marker\r\n            key={place.location}\r\n            position={place.position}\r\n            eventHandlers={{ click: () => showPreview(place) }}\r\n          >\r\n            <Tooltip>{place.location}</Tooltip>\r\n          </Marker>\r\n        ))}\r\n{/* \r\n          <Marker\r\n            key={'TEST ONLOAD MARKER PLACE'}\r\n            position={[30.4504404703548,-97.67994568908304]}\r\n          >\r\n            <Tooltip>{'TEST ONLOAD MARKER PLACE'}</Tooltip>\r\n          </Marker> */}\r\n\r\n        <AddMarker />\r\n        <ZoomControl position=\"topleft\" zoomInText=\"+\" zoomOutText=\"-\" />\r\n        <LocationMarker />\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { places } = state;\r\n  return {\r\n    isVisible: places.placePreviewsIsVisible,\r\n    places: places.places,\r\n    selectedPlace: places.selectedPlace,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    togglePreview: (payload: boolean) =>\r\n      dispatch(setPlacePreviewVisibility(payload)),\r\n    setPlaceForPreview: (payload: Place) =>\r\n      dispatch(setSelectedPlace(payload)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Map);\r\n","import { connect } from \"react-redux\";\r\nimport { setSelectedPlace, setPlacePreviewVisibility, setSearchVisibility } from \"../../store/actions\";\r\nimport { IState, Place } from \"../../store/models\";\r\nimport {BiArrowBack} from \"react-icons/bi\"\r\nimport \"./Search.css\";\r\n\r\nconst Search = ({ searchIsVisible, places, closeSearch, setSelectedPlace }: any) => {\r\n  return (\r\n   \r\n    <div\r\n      className={`search__container search__container--${\r\n        searchIsVisible && \"active\"\r\n      }`}\r\n    >\r\n      <div className=\"search__header\">\r\n        <span className=\"search__header__close\" role=\"button\" onClick={() => closeSearch()}><BiArrowBack/></span>\r\n        <span className=\"search__header__title\">Search</span>\r\n      </div>\r\n      <div className=\"search__list\">\r\n        {places.map((place: Place) => (\r\n        <div key={place.location} className=\"search__list__item\" style={{background: '#00B140'}} onClick={() => setSelectedPlace(place) }>\r\n          {place.location}\r\n          {place.date}\r\n        </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { search, places } = state;\r\n  return {searchIsVisible: search.searchIsVisible, places: places.places};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    closeSearch: () =>\r\n      dispatch(setSearchVisibility(false)),\r\n\r\n    setSelectedPlace: (payload: Place) =>\r\n      {\r\n        dispatch(setSelectedPlace(payload));\r\n        dispatch(setPlacePreviewVisibility(true))\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import { connect } from \"react-redux\";\r\nimport { setPlacePreviewVisibility } from \"../../store/actions\";\r\nimport { IState } from \"../../store/models\";\r\nimport { AiFillCloseCircle } from \"react-icons/ai\";\r\nimport \"./Preview.css\";\r\n\r\nconst Preview = ({ isVisible, place, closePreview }: any) => {\r\n  return (\r\n    <div\r\n      className={`preview__container preview__container--${\r\n        isVisible && place && \"active\"\r\n      }`}\r\n    >\r\n      <div className=\"preview__close\" onClick={() => closePreview()}>\r\n        <AiFillCloseCircle></AiFillCloseCircle>\r\n      </div>\r\n      {/* <div\r\n        className=\"preview__picture\"\r\n        style={{ background: '#00B140' }}\r\n      ></div> */}\r\n      <div className=\"preview__description__container\">\r\n        <h1>Location</h1>\r\n        <div className=\"preview__location\">{place?.location}</div>\r\n\r\n        <h1>Date</h1>\r\n        <div className=\"preview__date\">{place?.date}</div>\r\n\r\n        <h1>Description</h1>\r\n        <div className=\"preview__description\">{place?.description}</div>\r\n\r\n        <h1>Position</h1>\r\n        <div className=\"preview__latlng\">{place?.position}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { places } = state;\r\n  return { isVisible: places.placePreviewsIsVisible, place: places.selectedPlace };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    closePreview: () =>\r\n      dispatch(setPlacePreviewVisibility(false)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Preview);\r\n","import { connect } from \"react-redux\";\r\nimport { addNewPlace as addNewPlaceAction, setPlaceFormVisibility } from \"../../store/actions\";\r\nimport { IState, Place } from \"../../store/models\";\r\nimport { AiFillCloseCircle } from \"react-icons/ai\";\r\nimport \"./Form.css\";\r\nimport { Field, Formik, Form as FormikForm } from \"formik\";\r\nimport { LatLng } from \"leaflet\";\r\n\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from 'firebase/firestore/lite';\r\nimport { getDatabase, ref, set } from \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDafTBcwBZ9g7nnzvQYW1m644ZV_sRTvJQ\",\r\n  authDomain: \"bird-maps-1.firebaseapp.com\",\r\n  databaseURL: \"https://bird-maps-1-default-rtdb.firebaseio.com\",\r\n  projectId: \"bird-maps-1\",\r\n  storageBucket: \"bird-maps-1.appspot.com\",\r\n  messagingSenderId: \"460361909334\",\r\n  appId: \"1:460361909334:web:9e8db450c35df6e9bda7f7\",\r\n  measurementId: \"G-K6PPGQL6T2\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nfunction writeMapData(LatLng: LatLng, location: string, description: string, date: number) {\r\n  const db = getDatabase();\r\n  location = location ? location : 'test';\r\n  set(ref(db, 'sighting/' + date.toString() + '/'), {\r\n    date: new Date(date).toString(),\r\n    LatLng: LatLng,\r\n    location: location,\r\n    description: description\r\n  });\r\n  console.log(\"when: \" + date.toString() + \" where: \" + LatLng)\r\n}\r\n\r\nconst Form = ({\r\n  isVisible,\r\n  position,\r\n  closeForm,\r\n  addNewPlace\r\n}: {\r\n  isVisible: boolean;\r\n  position: LatLng;\r\n  closeForm: Function;\r\n  addNewPlace: Function;\r\n}) => {\r\n\r\n  const initialValues = {\r\n    location: \"\",\r\n    description: \"\",\r\n  };\r\n\r\n  const validator = (values: PlaceFormProps) => {\r\n    const keys = Object.keys(values);\r\n\r\n    return keys.reduce((prev, curr) => {\r\n      if (!values[curr]) {\r\n        // return { ...prev, [curr]: \"required\" };\r\n        return { ...prev};\r\n      }\r\n      return prev;\r\n    }, {});\r\n  };\r\n\r\n  const handleOnSubmit = (values: PlaceFormProps) => {\r\n    const date = Date.now()\r\n    addNewPlace({\r\n      ...values,\r\n      position: [position.lat, position.lng],\r\n      date: new Date(date).toString()\r\n    });\r\n    writeMapData(position, values.location, values.description, date);\r\n    closeForm()\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`form__container form__container--${isVisible && \"active\"}`}\r\n    >\r\n      <div className=\"form__header\">\r\n        <span\r\n          className=\"form__header__close\"\r\n          role=\"button\"\r\n          onClick={() => closeForm()}\r\n        >\r\n          <AiFillCloseCircle />\r\n        </span>\r\n        <span className=\"form__header__title\">Add new Place</span>\r\n      </div>\r\n      <Formik\r\n        initialValues={initialValues}\r\n        validate={validator}\r\n        onSubmit={handleOnSubmit}\r\n      >\r\n        {({ errors, touched, isValidating }) => (\r\n          <FormikForm>\r\n\r\n            <div className=\"formGroup\">\r\n              <div className=\"formGroupInput\">\r\n                <label htmlFor=\"location\">Location</label>\r\n                <Field id=\"location\" name=\"location\" placeholder=\"Neighborhood?\" />\r\n              </div>\r\n              {errors.location && <div className=\"errors\">Required</div>}\r\n            </div>\r\n            <div className=\"formGroup\">\r\n              <div className=\"formGroupInput\">\r\n                <label htmlFor=\"description\">Description</label>\r\n                <Field\r\n                  id=\"description\"\r\n                  name=\"description\"\r\n                  placeholder=\"General observation notes...\"\r\n                />\r\n              </div>\r\n              {errors.description && <div className=\"errors\">Required</div>}\r\n            </div>\r\n\r\n            <div className=\"button__container\">\r\n              <button className=\"form__button\" type=\"submit\">Submit</button>\r\n            </div>\r\n          </FormikForm>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  const { places } = state;\r\n  return {\r\n    isVisible: places.placeFormIsVisible,\r\n    position: places.prePlacePosition as LatLng,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    closeForm: () =>\r\n      dispatch(setPlaceFormVisibility(false)),\r\n    addNewPlace: (place: Place) => {\r\n      dispatch(addNewPlaceAction(place))\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);\r\n\r\ninterface PlaceFormProps {\r\n  [key: string]: string;\r\n  location: string;\r\n  description: string;\r\n}\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport Header from \"./components/Header/Header\";\r\nimport Map from \"./components/Map/Map\";\r\nimport Search from \"./components/Search/Search\";\r\nimport Preview from \"./components/Preview/Preview\";\r\nimport Form from \"./components/Form/Form\";\r\n\r\nfunction App() {\r\n  return (\r\n    <>\r\n      <nav>\r\n        <Header />\r\n      </nav>\r\n      <main>\r\n        <Search /> \r\n        <Map />\r\n        <Preview />\r\n        <Form />\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Place } from \"./store/models\";\r\nimport { getDatabase, ref, child, get } from \"firebase/database\";\r\nconst dbRef = ref(getDatabase());\r\nlet placeArr: Place[] = []\r\nget(child(dbRef, `sighting`)).then((snapshot) => {\r\n  if (snapshot.exists()) {\r\n\r\n      snapshot.forEach(function(child) {\r\n        placeArr.push({\r\n          date: child.val().date,\r\n          position: child.val().LatLng,\r\n          location: child.val().location,\r\n          description: child.val().description\r\n        })\r\n    })\r\n  } else {\r\n    console.log(\"No data available\");\r\n  }\r\n}).catch((error) => {\r\n  console.error(error);\r\n});\r\n\r\n\r\nexport const data: Place[] = [\r\n  { date:\"0\",\r\n    description:\"Mueller Lake Park\",\r\n    location:\"Mueller Lake Park\",\r\n    position:[30.296837121677424,-97.70583834525243]\r\n  },\r\n  { date:\"0\",\r\n    description:\"Zilker Park\",\r\n    location:\"Zilker Park\",\r\n    position:[30.266467999637396,-97.76770124360763]\r\n  },\r\n  { date:\"0\",\r\n    description:\"Texas State Cemetery\",\r\n    location:\"Texas State Cemetery\",\r\n    position:[30.26612885415308,-97.72629372733968]\r\n  },\r\n  { date:\"0\",\r\n    description:\"Austin Animal Center\",\r\n    location:\"Austin Animal Center\",\r\n    position:[30.25236767828445,-97.68987941448056]\r\n  },\r\n  { date:\"0\",\r\n    description:\"IM Fields\",\r\n    location:\"IM Fields\",\r\n    position:[30.315221598446712,-97.72947554456864]\r\n  },\r\n  ...placeArr];\r\n","import {\r\n  SET_ALL_PLACES,\r\n  SET_SELECTED_PLACE,\r\n  SET_PLACE_PREVIEW_VISIBILITY,\r\n  SET_PLACE_FORM_VISIBILITY,\r\n  SET_PRE_PLACE_LOCATION,\r\n  ADD_NEW_PLACE,\r\n} from \"../actions\";\r\nimport { PlaceState } from \"../models\";\r\nimport { data } from \"../../data\";\r\nimport { LatLngExpression } from \"leaflet\";\r\n\r\nconst initialState: PlaceState = {\r\n  places: data,\r\n  selectedPlace: null,\r\n  placePreviewsIsVisible: false,\r\n  placeFormIsVisible: false,\r\n  prePlacePosition: (null as unknown) as LatLngExpression,\r\n};\r\n\r\nconst productsReducer = (\r\n  state: PlaceState = initialState,\r\n  action: { type: string; payload: any }\r\n): PlaceState => {\r\n  switch (action.type) {\r\n    case SET_ALL_PLACES: {\r\n      return { ...state, places: action.payload };\r\n    }\r\n    case SET_SELECTED_PLACE: {\r\n      return { ...state, selectedPlace: action.payload };\r\n    }\r\n    case SET_PLACE_PREVIEW_VISIBILITY: {\r\n      return { ...state, placePreviewsIsVisible: action.payload };\r\n    }\r\n    case SET_PLACE_FORM_VISIBILITY: {\r\n      return { ...state, placeFormIsVisible: action.payload };\r\n    }\r\n    case SET_PRE_PLACE_LOCATION: {\r\n      return { ...state, prePlacePosition: action.payload };\r\n    }\r\n    case ADD_NEW_PLACE: {\r\n      return { ...state, places: [...state.places, action.payload] };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default productsReducer;\r\n","import { SET_SEARCH_VISIBILITY } from \"../actions\";\r\nimport { SearchState } from \"../models\";\r\n\r\nconst initialState: SearchState = {\r\n  searchIsVisible: false,\r\n};\r\n\r\nconst searchReducer = (\r\n  state = initialState,\r\n  action: { type: string; payload: any }\r\n) => {\r\n  switch (action.type) {\r\n    case SET_SEARCH_VISIBILITY: {\r\n      return { ...state, searchIsVisible: action.payload };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default searchReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport places from \"./places\";\r\nimport search from \"./search\";\r\n\r\nexport default combineReducers({ places, search });\r\n","import { createStore } from \"redux\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nexport default createStore(\r\n  rootReducer,\r\n  (window as any)?.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n    (window as any)?.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}